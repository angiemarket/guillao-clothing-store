{"ast":null,"code":"import{Fragment,useRef,useEffect}from\"react\";import{Outlet,useNavigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import CartIcon from\"../../components/cart-icon/cart-icon.component\";import CartDropdown from\"../../components/cart-dropdown/cart-dropdown.component\";import{selectIsCartOpen}from\"../../store/cart/cart.selector\";import{setIsCartOpen}from\"../../store/cart/cart.action\";import{selectCurrentUser}from\"../../store/user/user.selector\";import{signOutStart}from\"../../store/user/user.action\";import{ReactComponent as CrwnLogo}from\"../../assets/crown.svg\";import{NavigationContainer,NavLinks,NavLink,LogoContainer,LogoTextContainer,Glitch,Glow,ScanLines}from\"./navigation.styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navigation=function Navigation(){var navigate=useNavigate();var dispatch=useDispatch();var cartIconRef=useRef();var currentUser=useSelector(selectCurrentUser);var isCartOpen=useSelector(selectIsCartOpen);// const setIsCartOpen = useSelector(selectIsCartOpen);\nvar signOutUser=function signOutUser(){return dispatch(signOutStart());};var useOutsideClick=function useOutsideClick(callback){var ref=useRef();useEffect(function(){var handleClick=function handleClick(event){if(ref.current&&!ref.current.contains(event.target)&&!(cartIconRef!==null&&cartIconRef!==void 0&&cartIconRef.current.contains(event.target))){callback();}};document.addEventListener(\"click\",handleClick,true);return function(){document.removeEventListener(\"click\",handleClick,true);};},[ref]);return ref;};var handleClickOutside=function handleClickOutside(){setIsCartOpen(false);};var toggleIsCartOpen=function toggleIsCartOpen(){return dispatch(setIsCartOpen(!isCartOpen));};var ref=useOutsideClick(toggleIsCartOpen);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(NavigationContainer,{children:[/*#__PURE__*/_jsxs(LogoTextContainer,{onClick:function onClick(){return navigate(\"/\");},children:[/*#__PURE__*/_jsx(Glitch,{\"data-text\":\"GUILLAO\",children:\"GUILLAO'\"}),/*#__PURE__*/_jsx(Glow,{children:\"ELISAB\\xC9TH\"})]}),/*#__PURE__*/_jsxs(NavLinks,{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/shop\",children:\"SHOP\"}),currentUser?/*#__PURE__*/_jsx(NavLink,{as:\"span\",onClick:signOutUser,children:\"SIGN OUT\"}):/*#__PURE__*/_jsx(NavLink,{to:\"/auth\",children:\"SIGN IN\"}),/*#__PURE__*/_jsx(\"div\",{ref:cartIconRef,children:/*#__PURE__*/_jsx(CartIcon,{})})]}),isCartOpen&&/*#__PURE__*/_jsx(\"div\",{ref:ref,children:/*#__PURE__*/_jsx(CartDropdown,{})})]}),/*#__PURE__*/_jsx(Outlet,{})]});};export default Navigation;","map":{"version":3,"sources":["C:/Users/angel/OneDrive/Pictures/Karen Sutton Hair Studio/guillao-clothing-store/src/routes/navigation/navigation.component.jsx"],"names":["Fragment","useRef","useEffect","Outlet","useNavigate","useSelector","useDispatch","CartIcon","CartDropdown","selectIsCartOpen","setIsCartOpen","selectCurrentUser","signOutStart","ReactComponent","CrwnLogo","NavigationContainer","NavLinks","NavLink","LogoContainer","LogoTextContainer","Glitch","Glow","ScanLines","Navigation","navigate","dispatch","cartIconRef","currentUser","isCartOpen","signOutUser","useOutsideClick","callback","ref","handleClick","event","current","contains","target","document","addEventListener","removeEventListener","handleClickOutside","toggleIsCartOpen"],"mappings":"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","sourcesContent":["import { Fragment, useRef, useEffect } from \"react\";\nimport { Outlet, useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport CartIcon from \"../../components/cart-icon/cart-icon.component\";\nimport CartDropdown from \"../../components/cart-dropdown/cart-dropdown.component\";\n\nimport { selectIsCartOpen } from \"../../store/cart/cart.selector\";\nimport { setIsCartOpen } from \"../../store/cart/cart.action\";\nimport { selectCurrentUser } from \"../../store/user/user.selector\";\nimport { signOutStart } from \"../../store/user/user.action\";\n\nimport { ReactComponent as CrwnLogo } from \"../../assets/crown.svg\";\n\nimport {\n  NavigationContainer,\n  NavLinks,\n  NavLink,\n  LogoContainer,\n  LogoTextContainer,\n  Glitch,\n  Glow,\n  ScanLines,\n} from \"./navigation.styles\";\n\nconst Navigation = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const cartIconRef = useRef();\n  const currentUser = useSelector(selectCurrentUser);\n  const isCartOpen = useSelector(selectIsCartOpen);\n  // const setIsCartOpen = useSelector(selectIsCartOpen);\n\n  const signOutUser = () => dispatch(signOutStart());\n\n  const useOutsideClick = (callback) => {\n    const ref = useRef();\n\n    useEffect(() => {\n      const handleClick = (event) => {\n        if (\n          ref.current &&\n          !ref.current.contains(event.target) &&\n          !cartIconRef?.current.contains(event.target)\n        ) {\n          callback();\n        }\n      };\n\n      document.addEventListener(\"click\", handleClick, true);\n\n      return () => {\n        document.removeEventListener(\"click\", handleClick, true);\n      };\n    }, [ref]);\n\n    return ref;\n  };\n\n  const handleClickOutside = () => {\n    setIsCartOpen(false);\n  };\n\n  const toggleIsCartOpen = () => dispatch(setIsCartOpen(!isCartOpen));\n\n  const ref = useOutsideClick(toggleIsCartOpen);\n\n  return (\n    <Fragment>\n      <NavigationContainer>\n        <LogoTextContainer onClick={() => navigate(\"/\")}>\n          <Glitch data-text=\"GUILLAO\">GUILLAO'</Glitch>\n          <Glow>ELISABÃ‰TH</Glow>\n          {/* <ScanLines></ScanLines> */}\n        </LogoTextContainer>\n        <NavLinks>\n          <NavLink to=\"/shop\">SHOP</NavLink>\n\n          {currentUser ? (\n            <NavLink as=\"span\" onClick={signOutUser}>\n              SIGN OUT\n            </NavLink>\n          ) : (\n            <NavLink to=\"/auth\">SIGN IN</NavLink>\n          )}\n          <div ref={cartIconRef}>\n            <CartIcon />\n          </div>\n        </NavLinks>\n        {isCartOpen && (\n          <div ref={ref}>\n            <CartDropdown />\n          </div>\n        )}\n      </NavigationContainer>\n      <Outlet />\n    </Fragment>\n  );\n};\n\nexport default Navigation;\n"]},"metadata":{},"sourceType":"module"}